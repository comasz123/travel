<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <div th:insert="fragments.html :: header-eng"></div>
    <script th:src="@{/files/select.js}"></script>
<!--    <script src="/scripts/jquery-3.6.1.min.js"></script>-->

</head>
<body>
<div th:replace="fragments.html :: #menu-eng"></div>

<div id="content">
    <h1> Edit Cities</h1>
    <a class="add-city-admin" href="/city/add">Add City</a>
    <form action="/edit/city/" method="GET">
        <div id="select-boxes">
            <!--      <select id="country" th:onchange="|getCities('${elements}')|">-->

            <select id="country" onchange="update()">
                <option value="0" text="pick country" selected="pick country">pick country</option>
                <div th:each="element : ${elements}">
                    <option th:value="${element.country.id}"
                            th:text="${element.country.nameEng}"></option>
                </div>
            </select>
            <select id="city" name="cityId">
                <option value="0" text="pick city" selected="pick city">pick city</option>
            </select>
        </div>
        <input type="submit" value="OK">
    </form>


    <script th:inline="javascript">

        function update() {
            let countriesAndCities = [[${elements}]];
            getCities(countriesAndCities);
        }
    </script>

</div>
</body>
</html>
